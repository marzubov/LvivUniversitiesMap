//>>built
require({cache:{"dojo/NodeList-fx":function(){define(["./query","./_base/lang","./aspect","./_base/fx","./fx"],function(h,e,k,d,l){h=h.NodeList;e.extend(h,{_anim:function(d,c,f){f=f||{};var g=l.combine(this.map(function(g){g={node:g};e.mixin(g,f);return d[c](g)}));return f.auto?g.play()&&this:g},wipeIn:function(d){return this._anim(l,"wipeIn",d)},wipeOut:function(d){return this._anim(l,"wipeOut",d)},slideTo:function(d){return this._anim(l,"slideTo",d)},fadeIn:function(e){return this._anim(d,"fadeIn",
e)},fadeOut:function(e){return this._anim(d,"fadeOut",e)},animateProperty:function(e){return this._anim(d,"animateProperty",e)},anim:function(e,c,f,g,h){var m=l.combine(this.map(function(g){return d.animateProperty({node:g,properties:e,duration:c||350,easing:f})}));g&&k.after(m,"onEnd",g,!0);return m.play(h||0)}});return h})},"themes/TabTheme/widgets/SidebarController/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},
"url:themes/TabTheme/widgets/SidebarController/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"min-pane" data-dojo-attach-point\x3d"minStateNode"\x3e\r\n    \r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"max-pane" data-dojo-attach-point\x3d"maxStateNode"\x3e\r\n    \x3cdiv class\x3d"title-list" data-dojo-attach-point\x3d"titleListNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"content-list" data-dojo-attach-point\x3d"contentListNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"other-group-pane" data-dojo-attach-point\x3d"otherGroupNode"\x3e\x3c/div\x3e\r\n\t\r\n  \x3cdiv class\x3d"tab-resizer jimu-widget-bg" data-dojo-attach-point\x3d"resizerNode"\x3e\r\n    \x3cdiv class\x3d"action-node" data-dojo-attach-event\x3d"click:_doResize" data-dojo-attach-point\x3d"doResizeNode"\x3e\r\n      \x3cdiv class\x3d"left-arrow"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\t\r\n\x3c/div\x3e\r\n',
"url:themes/TabTheme/widgets/SidebarController/css/style.css":'.jimu-widget-sidebar-controller{overflow: hidden;}.jimu-widget-sidebar-controller .title-list{position: absolute; left: 0; right: 0; top: 0; height: 44px; border-top: 1px solid #3a3a3a; border-top: 1px solid rgba(255,255,255,0.08);}.jimu-widget-sidebar-controller .title-node{width: 54px; height: 44px; cursor: pointer; margin-top: -2px;}.jimu-widget-sidebar-controller .max-pane{position: absolute; top: 0; left: 0; right: 0; bottom: 16px; border: 1px solid #111111;}.jimu-widget-sidebar-controller .max-pane .title-node{margin-left: 19px; float: left;}.jimu-widget-sidebar-controller .min-pane .title-node{margin-bottom: 36px;}.jimu-widget-sidebar-controller .min-pane .title-node:nth-child(1){margin-top: -2px; border-top: 1px solid rgba(255, 255, 255, 0.08);}.jimu-widget-sidebar-controller .max-pane .title-node:nth-child(1){margin-left: 0;}.jimu-widget-sidebar-controller .title-node img{margin: 11px 16px; width: 22px; height: 22px;}.jimu-widget-sidebar-controller .tab-indicator{width: 0px; height: 2px; margin: auto;}.jimu-widget-sidebar-controller .title-node:nth-child(1) .tab-indicator{background-color: #ec7655;}.jimu-widget-sidebar-controller .title-node:nth-child(2) .tab-indicator{background-color: #fac15a;}.jimu-widget-sidebar-controller .title-node:nth-child(3) .tab-indicator{background-color: #a3ca4b;}.jimu-widget-sidebar-controller .title-node:nth-child(4) .tab-indicator{background-color: #5eb4e6;}.jimu-widget-sidebar-controller .title-node:nth-child(5) .tab-indicator{background-color: #b996d5;}.jimu-widget-sidebar-controller .content-list{position: absolute; left: 0; top: 45px; right: 0; bottom: 0;}.jimu-widget-sidebar-controller .content-node{position: absolute; left: 0; right: 0; top: 0; bottom: 0; outline: 1px solid rgba(0,0,0, 0.3); border-top: 1px solid rgba(255,255,255, 0.08);}.jimu-widget-sidebar-controller .content-title-bg{position: absolute; left: 0; right: 0; top: -1px; height: 18px; opacity: 0.2;}.jimu-widget-sidebar-controller .content-title{position: absolute; left: 14px; top: 2px; color: #888; font: 10px Arial;}.jimu-widget-sidebar-controller .content-pane{position: absolute; left: 0; top: 18px; right: 0; bottom: 0; overflow: hidden;}.jimu-widget-sidebar-controller .content-pane .more-group-pane{position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden;}.jimu-widget-sidebar-controller .tab-resizer{left: 0; right: 0; bottom: 0; height: 14px; position: absolute; border: 1px solid #111111; border-top: 1px solid #333333; border-top: 1px solid rgba(255,255,255,0.08);}.jimu-widget-sidebar-controller .tab-resizer .action-node{width: 50px; overflow: hidden; height: 100%; float: right; cursor: pointer;}.jimu-widget-sidebar-controller .tab-resizer .action-node div{width: 11px; height: 8px; margin-top: 3px; margin-left: auto; margin-right: auto;}.jimu-widget-sidebar-controller .tab-resizer .left-arrow{background-image: url(images/arrow_left.png);}.jimu-widget-sidebar-controller .tab-resizer .left-arrow:hover{background-image: url(images/arrow_left_hover.png);}.jimu-widget-sidebar-controller .tab-resizer .right-arrow{background-image: url(images/arrow_right.png);}.jimu-widget-sidebar-controller .tab-resizer .right-arrow:hover{background-image: url(images/arrow_right_hover.png);}.jimu-widget-sidebar-controller .min-pane{position: absolute; top: 0; bottom: 16px; left: 0; right: 0; border: 1px solid #111111;}.jimu-widget-sidebar-controller .other-group-pane{border: 1px solid #111111; border-left: none; position: absolute; left: 365px; top: 0; right: 0; bottom: 16px; background-color: #222; overflow-y: auto;}.jimu-widget-sidebar-controller .other-group:hover{background-color: #333;}.jimu-widget-sidebar-controller .other-group-pane .jimu-state-active{background-color: #292929;}.jimu-widget-sidebar-controller .other-group-pane-title{width: 100%; height: 18px; position: relative;}.jimu-widget-sidebar-controller .other-group-pane-title .bg{position: absolute; left: 0; right: 0; top: 0; bottom: 0; background: #666; opacity: 0.3;}.jimu-widget-sidebar-controller .other-group-pane-title .text{position: absolute; left: 14px; top: 1px; color: #888; font: 10px Arial;}.jimu-widget-sidebar-controller .other-group-pane-title .close{position: absolute; right: 5px; top: 3px; height: 11px; width: 35px; cursor: pointer; background: center center no-repeat url(images/close.png);}.jimu-widget-sidebar-controller .other-group{cursor: pointer; width: 100%; height: 45px; overflow: hidden;}.jimu-widget-sidebar-controller .other-group-icon{float: left; margin: 11px 24px; width: 22px; height: 22px;}.jimu-widget-sidebar-controller .other-group-title{float: left; margin: 15px 0; color: #666; font: 12px Arial bold;}.jimu-widget-sidebar-controller .other-group-choose{float: right; margin: 15px 30px;}.jimu-widget-sidebar-controller .wp{border: 1px solid transparent;}.jimu-widget-sidebar-controller .wp-title{overflow: hidden;}.jimu-widget-sidebar-controller .wp-title .title-text{width: 57px; height: 20px; padding: 5px 13px; background-color: white; float: left; border-top-left-radius: 4px; color: #222; font: 12px Arial bold;}.jimu-widget-sidebar-controller .wp-title .title-angle{width: 21px; height: 20px; background: url(images/tab_triangle.png); float: left;}.jimu-widget-sidebar-controller .wp-pane{background-color: white; overflow: hidden; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-right-radius: 4px; position: relative;}.jimu-widget-sidebar-controller .min-pane .title-node:first-child{border-top: 1px solid #3a3a3a;}.jimu-widget-sidebar-controller .max-pane .title-node:first-child{margin-left: 0;}.jimu-widget-sidebar-controller .title-node:first-child .tab-indicator{background-color: #ec7655;}.jimu-widget-sidebar-controller .title-node:first-child+.title-node .tab-indicator{background-color: #fac15a;}.jimu-widget-sidebar-controller .title-node:first-child+.title-node+.title-node .tab-indicator{background-color: #a3ca4b;}.jimu-widget-sidebar-controller .title-node:first-child+.title-node+.title-node+.title-node .tab-indicator{background-color: #5eb4e6;}.jimu-widget-sidebar-controller .title-node:first-child+.title-node+.title-node+.title-node+.title-node .tab-indicator{background-color: #b996d5;}.jimu-widget-sidebar-controller .content-title-bg{filter: alpha(opacity\x3d12); -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d12)"; filter: progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d12);}.jimu-widget-sidebar-controller .other-group-pane-title .bg{filter: alpha(opacity\x3d30); -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d30)"; filter: progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d30);}',
"*now":function(h){h(['dojo/i18n!*preload*themes/TabTheme/widgets/SidebarController/nls/Widget*["ar","cs","da","de","en","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/topic dojo/aspect dojo/query dojo/on dojo/mouse dojo/_base/fx dojo/fx dojo/NodeList-manipulate dojo/NodeList-fx dijit/layout/_LayoutWidget jimu/BaseWidget jimu/PoolControllerMixin jimu/utils".split(" "),function(h,e,k,d,l,p,c,f,g,t,m,u,v,w,q,r,s){return h([q,r],{baseClass:"jimu-widget-sidebar-controller jimu-main-bgcolor",maxWidth:365,minWidth:55,animTime:200,stateNode:null,currentTab:null,moreTab:!1,moreTabOpened:!1,
currentOtherGroup:null,lastSelectedIndex:-1,constructor:function(){this.tabs=[]},startup:function(){this.inherited(arguments);this.createTabs();this.widgetManager.minimizeWidget(this)},getOpenedIds:function(){this.inherited(arguments);var a=[];this.currentTab&&this.currentTab.config&&this.currentTab.config.id?a.push(this.currentTab.config.id):this.currentOtherGroup&&this.currentOtherGroup.id&&a.push(this.currentOtherGroup.id);return a},setOpenedIds:function(a){this._openLastTab(a)},onMinimize:function(){this._resizeToMin()},
onMaximize:function(){this._resizeToMax()},resize:function(){k.forEach(this.tabs,function(a){a.selected&&a.panel&&a.panel.resize()},this)},onPositionChange:function(){this.widgetManager.minimizeWidget(this)},createTabs:function(){var a=this.getAllConfigs(),b=[];5>=a.length?(b=a,this.moreTab=!1):(b=a.splice(0,4),this.moreTab=!0);k.forEach(b,function(a){this.createTab(a)},this);this.moreTab&&this.createTab({label:"more",flag:"more",icon:this.folderUrl+"images/more_tab_icon.png",groups:a})},createTab:function(a){var b=
this._createContentNode(a);a={title:this._createTitleNode(a),content:b,contentPane:c(".content-pane",b)[0],config:a,selected:!1,flag:a.flag,moreGroupWidgets:[],panels:[]};this.tabs.push(a);return a},onSelect:function(a){a=parseInt(c(a.currentTarget).attr("i")[0],10);this.selectTab(a)},selectTab:function(a){var b;if(!(this.tabs[a].selected&&"more"!==this.tabs[a].flag)){if(void 0===this.tabs[this.getSelectedIndex()]||"more"!==this.tabs[this.getSelectedIndex()].flag)this.lastSelectedIndex=this.getSelectedIndex();
this._showIndicator(a);b=this._getIndicatorNodeByIndex(a).style("backgroundColor");c(".content-title-bg",this.tabs[a].content).style({background:b});k.forEach(this.tabs,function(b,c){a===c?b.selected=!0:b.selected&&(b.selected=!1)},this);"more"===this.tabs[a].flag?this.showMoreTabContent(this.tabs[a]):(c(".content-node",this.domNode).style({display:"none"}),c(this.tabs[a].content).style({display:"block"}),0===c(".jimu-wc-tpc",this.tabs[a].content).length&&this.showTabContent(this.tabs[a]));this.resize()}},
onAction:function(a,b){if("highLight"===a&&b){var d=c('div[settingid\x3d"'+b.widgetId+'"]',this.stateNode)[0];this._highLight(d)}"removeHighLight"===a&&this._removeHighLight()},_openLastTab:function(a){if(a&&a.length&&0<a.length){var b=this.getAllConfigs(),c=k.map(b,function(a){return a&&a.id?a.id:null});k.forEach(a,e.hitch(this,function(a){a=c.indexOf(a);-1!==a&&(4>a?this.selectTab(a):this._addGroupToMoreTab(b[a]))}))}},_highLight:function(a){this.hlDiv&&this._removeHighLight();if(a){var b=d.getMarginBox(a),
c=d.getContentBox(a);a.parentElement.firstElementChild!==a&&(b.l=b.l+b.w-c.w);this.hlDiv=d.create("div",{style:{position:"absolute",left:b.l+"px",top:b.t+"px",width:c.w+"px",height:c.h+"px"},"class":"icon-highlight"},a,"after")}},_removeHighLight:function(){this.hlDiv&&(d.destroy(this.hlDiv),this.hlDiv=null)},_getTitleNodeByIndex:function(a){return c(".title-node:nth-child("+(a+1)+")","maximized"===this.windowState?this.maxStateNode:this.minStateNode)},_onMouseEnter:function(a){a=parseInt(c(a.currentTarget).attr("i")[0],
10);"maximized"===this.windowState&&this.tabs[a].selected&&"more"!==this.tabs[a].flag||this._showIndicator(a)},_onMouseLeave:function(a){a=parseInt(c(a.currentTarget).attr("i")[0],10);"maximized"===this.windowState&&this.tabs[a].selected&&(this.moreTabOpened&&"more"===this.tabs[a].flag||!this.moreTabOpened&&"more"!==this.tabs[a].flag)||this._hideIndicator(a)},_getIndicatorNodeByIndex:function(a){return c(".tab-indicator",this._getTitleNodeByIndex(a)[0])},_showIndicator:function(a){c(".tab-indicator",
this.domNode).style({width:"0"});var b=d.getContentBox(this._getTitleNodeByIndex(a)[0]).w;this._getIndicatorNodeByIndex(a).animateProperty({properties:{width:b},duration:this.animTime,auto:!0})},_hideIndicator:function(a){this._getIndicatorNodeByIndex(a).animateProperty({properties:{width:0},duration:this.animTime,auto:!0})},getSelectedIndex:function(){for(var a=0,a=0;a<this.tabs.length;a++)if(this.tabs[a].selected)return a;return-1},showTabContent:function(a){this.showGroupContent(a.config,a);this.currentTab=
a},showGroupContent:function(a,b){var d;a.widgets&&1<a.widgets.length&&c(".content-title",b.content).text(a.label);this.panelManager.showPanel(a).then(e.hitch(this,function(e){c(e.domNode).style(s.getPositionStyle({left:0,right:0,top:0,bottom:0}));"more"===b.flag?(d=c('.more-group-pane[label\x3d"'+a.label+'"]',b.contentPane),d.append(e.domNode)):c(b.contentPane).append(e.domNode);-1===k.indexOf(b.panels,e)&&b.panels.push(e);b.panel=e}))},showMoreTabContent:function(a){a=a.config.groups;c(this.otherGroupNode).empty();
this._createOtherGroupPaneTitle();k.forEach(a,function(a){this._createMoreGroupNode(a)},this);m.combine([c(this.maxStateNode).animateProperty({properties:{left:this.minWidth-this.maxWidth,right:this.maxWidth-this.minWidth},duration:this.animTime}),c(this.otherGroupNode).animateProperty({properties:{left:this.minWidth,right:0},duration:this.animTime})]).play();this.moreTabOpened=!0},_createOtherGroupPaneTitle:function(){var a=d.create("div",{"class":"other-group-pane-title"},this.otherGroupNode),b;
d.create("div",{"class":"bg"},a);d.create("div",{"class":"text",innerHTML:"Other Panels"},a);b=d.create("div",{"class":"close"},a);this.own(f(b,"click",e.hitch(this,function(){this._hideOtherGroupPane();-1!==this.lastSelectedIndex&&this.selectTab(this.lastSelectedIndex)})));return a},_createMoreGroupNode:function(a){var b=d.create("div",{"class":"other-group"},this.otherGroupNode),n;d.create("img",{src:a.icon,"class":"other-group-icon"},b);d.create("div",{"class":"other-group-title",innerHTML:a.label},
b);n=d.create("img",{"class":"other-group-choose",style:{opacity:0},src:this.folderUrl+"images/arrow_choose.png"},b);this.own(f(b,"click",e.hitch(this,this._onOtherGroupClick,a)));this.own(f(b,"mousedown",e.hitch(this,function(){c(b).addClass("jimu-state-active")})));this.own(f(b,"mouseup",e.hitch(this,function(){c(b).removeClass("jimu-state-active")})));this.own(f(b,g.enter,e.hitch(this,function(){c(n).style({opacity:1})})));this.own(f(b,g.leave,e.hitch(this,function(){c(n).style({opacity:0})})));
return b},_hideOtherGroupPane:function(){m.combine([c(this.maxStateNode).animateProperty({properties:{left:0,right:0}}),c(this.otherGroupNode).animateProperty({properties:{left:this.maxWidth,right:0-this.maxWidth}})]).play();this.moreTabOpened=!1;var a=this.tabs[this.getSelectedIndex()];a&&"more"===a.flag&&this._hideIndicator(this.getSelectedIndex())},_onOtherGroupClick:function(a){if(null===this.currentOtherGroup||this.currentOtherGroup.label!==a.label){var b=m.combine([c(this.maxStateNode).animateProperty({properties:{left:0-
this.maxWidth,right:this.maxWidth},duration:this.animTime}),c(this.otherGroupNode).animateProperty({properties:{left:0,right:0},duration:this.animTime})]);this.own(p.after(b,"onEnd",e.hitch(this,this._addGroupToMoreTab,a)));b.play()}else this._addGroupToMoreTab(a)},_addGroupToMoreTab:function(a){var b=this.tabs[4];c(".content-node",this.domNode).style({display:"none"});c(b.content).style({display:"block"});if(null===this._getGroupFromMoreTab(b,a)){var e=d.create("div",{"class":"more-group-pane",label:a.label},
b.contentPane);c(b.contentPane).append(e);b.moreGroupWidgets.push({glabel:a.label,widgets:[]})}this.currentTab=null;this.currentOtherGroup=a;this.showGroupContent(a,b);c(".more-group-pane",b.contentPane).style({display:"none"});c('.more-group-pane[label\x3d"'+a.label+'"]',b.contentPane).style({display:"block"});this._hideOtherGroupPane();this.resize()},_getGroupFromMoreTab:function(a,b){for(var c=0;c<a.moreGroupWidgets.length;c++)if(a.moreGroupWidgets[c].glabel===b.label)return a.moreGroupWidgets[c];
return null},_createTitleNode:function(a){var b=a.label,c=a.icon,h=d.create("div",{title:b,"class":"title-node",settingid:a.id,i:this.tabs.length},this.titleListNode);d.create("div",{"class":"tab-indicator"},h);d.create("img",{src:c},h);a=d.create("div",{title:b,"class":"title-node",settingid:a.id,i:this.tabs.length},this.minStateNode);d.create("div",{"class":"tab-indicator"},a);d.create("img",{src:c},a);this.own(f(h,"click",e.hitch(this,this.onSelect)));this.own(f(h,g.enter,e.hitch(this,this._onMouseEnter)));
this.own(f(h,g.leave,e.hitch(this,this._onMouseLeave)));this.own(f(a,"click",e.hitch(this,this._onMinIconClick,a)));this.own(f(a,g.enter,e.hitch(this,this._onMouseEnter)));this.own(f(a,g.leave,e.hitch(this,this._onMouseLeave)));return h},_onMinIconClick:function(a){a=c(a).attr("i")[0];this.widgetManager.maximizeWidget(this);this.selectTab(parseInt(a,10))},_createContentNode:function(a){var b=d.create("div",{"class":"content-node"},this.contentListNode);d.create("div",{"class":"content-title-bg"},
b);d.create("div",{"class":"content-title",innerHTML:a.widgets&&1<a.widgets.length?a.label:""},b);d.create("div",{"class":"content-pane"},b);this.own(f(b,"click",e.hitch(this,function(){this.moreTabOpened&&(this._hideOtherGroupPane(),-1!==this.lastSelectedIndex&&this.selectTab(this.lastSelectedIndex))})));return b},_doResize:function(){"maximized"===this.windowState?this.widgetManager.minimizeWidget(this.id):this.widgetManager.maximizeWidget(this.id)},_resizeToMin:function(){l.publish("relayout");
c(this.domNode).style("width",this.minWidth+"px");c(this.minStateNode).style("display","block");c(this.maxStateNode).style("display","none");c("div",this.doResizeNode).removeClass("left-arrow").addClass("right-arrow");l.publish("changeMapPosition",{left:this.minWidth});this.stateNode=this.minStateNode},_resizeToMax:function(){l.publish("relayout");c(this.domNode).style("width",this.maxWidth+"px");c(this.minStateNode).style("display","none");c(this.maxStateNode).style("display","block");c("div",this.doResizeNode).removeClass("right-arrow").addClass("left-arrow");
this.resize();l.publish("changeMapPosition",{left:this.maxWidth});this.currentTab&&this.showGroupContent(this.currentTab.config,this.currentTab);k.every(this.tabs,function(a){return!a.panel})&&this.tabs&&this.selectTab(0);this.stateNode=this.maxStateNode}})});