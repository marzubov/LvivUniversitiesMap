//>>built
require({cache:{"url:widgets/Bookmark/setting/Edit.html":'\x3cdiv style\x3d"width: 100%"\x3e\r\n  \x3ctable class\x3d"setting-table input-table" cellspacing\x3d"0"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"first"\x3e*${nls.title}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"name" \r\n            required\x3d"true" placeHolder\x3d${nls.title} data-dojo-props\x3d\'style:{width:"100%"}\'/\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.thumbnail}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv style\x3d"display:none"\x3e\x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" \r\n            data-dojo-attach-point\x3d"thumbnail" placeHolder\x3d"images/street.jpg"\r\n            data-dojo-props\x3d\'style:{width:"100%"}\'/\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"imageChooserBase"\x3e\x3c/div\x3e\r\n            \x3cimg class\x3d"thumbnail-img" src\x3d"" data-dojo-attach-point\x3d"showImageChooser"\x3e\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;(${nls.thumbnailHint})\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e                                                                  \r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e \r\n    \x3cdiv class\x3d"extent-chooser" style\x3d"height: 400px" data-dojo-attach-point\x3d"extentChooserNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/dom-style dojo/dom-attr dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry jimu/BaseWidgetSetting jimu/dijit/Message esri/SpatialReference esri/geometry/Extent jimu/dijit/ImageChooser jimu/dijit/ExtentChooser dojo/text!./Edit.html".split(" "),function(g,c,p,b,d,q,e,r,s,t,h,u,k,v,w,l,m,f,n){return g([k,h],{baseClass:"jimu-Bookmark-Edit",ImageChooser:null,templateString:n,
extent:{},portalUrl:null,itemId:null,postCreate:function(){this.inherited(arguments);this.imageChooser=new m({displayImg:this.showImageChooser});this.own(d(this.name,"Change",c.hitch(this,"_onNameChange")));b.addClass(this.imageChooser.domNode,"img-chooser");b.place(this.imageChooser.domNode,this.imageChooserBase,"replace");this.own(d(this.imageChooser,"imageChange",c.hitch(this,this.imageChange)));this.own(d(this.thumbnail,"change",c.hitch(this,this.onThumbnailChange)));e.set(this.showImageChooser,
"src",this.folderUrl+"images/thumbnail_default.png")},setConfig:function(a){a.name&&this.name.set("value",a.name);a.thumbnail&&this.thumbnail.set("value",a.thumbnail);this.extentChooser=a.extent?new f({portalUrl:this.portalUrl,itemId:this.itemId,initExtent:new l(a.extent)},this.extentChooserNode):new f({portalUrl:this.portalUrl,itemId:this.itemId},this.extentChooserNode);b.setAttr(this.imageChooserBase,"src",void 0);this.own(d(this.extentChooser,"extentChange",c.hitch(this,this._onExtentChange)))},
getConfig:function(){return{name:this.name.get("value"),extent:this.extentChooser.getExtent(),thumbnail:this.thumbnail.get("value")}},onThumbnailChange:function(){var a=this.thumbnail.get("value");-1<a.indexOf("data:image")?e.set(this.showImageChooser,"src",a):e.set(this.showImageChooser,"src",this.folderUrl+a);a=b.getMarginBox(this.showImageChooser).h;b.setStyle(this.imageChooser.domNode,"height",a+"px")},imageChange:function(a){this.thumbnail.set("value",a)},_onNameChange:function(){this._checkRequiredField()},
_onExtentChange:function(a){this.currentExtent=a},_checkRequiredField:function(){this.name.get("value")?this.popup&&this.popup.enableButton(0):this.popup&&this.popup.disableButton(0)}})});